{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/car.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../search/search.component\";\nimport * as i5 from \"../car-dialog/car-dialog.component\";\nfunction CarListComponent_tr_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\")(26, \"div\", 4)(27, \"button\", 5);\n    i0.ɵɵtext(28, \"\\u22EE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 6)(30, \"a\", 7);\n    i0.ɵɵlistener(\"click\", function CarListComponent_tr_34_Template_a_click_30_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const car_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.openEditCarForm(car_r2));\n    });\n    i0.ɵɵtext(31, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"a\", 7);\n    i0.ɵɵlistener(\"click\", function CarListComponent_tr_34_Template_a_click_32_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const car_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteCar(car_r2.carId));\n    });\n    i0.ɵɵtext(33, \"Delete\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const car_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.carId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.carName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.carModelYear);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.carBrand);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.color);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.capacity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.plateNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.rate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.carStatus);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.createdDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r2.lastModified);\n  }\n}\nfunction CarListComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"app-car-dialog\", 9);\n    i0.ɵɵlistener(\"formSubmit\", function CarListComponent_div_35_Template_app_car_dialog_formSubmit_1_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.handleFormSubmit($event));\n    })(\"close\", function CarListComponent_div_35_Template_app_car_dialog_close_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.closeCarForm());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"carForm\", ctx_r1.carForm);\n  }\n}\nexport let CarListComponent = /*#__PURE__*/(() => {\n  class CarListComponent {\n    constructor(carService, formBuilder) {\n      this.carService = carService;\n      this.formBuilder = formBuilder;\n      this.showCarForm = false;\n      this.isEditMode = false;\n      this.cars = [];\n      this.carForm = this.formBuilder.group({\n        carId: [null],\n        carName: ['', Validators.required],\n        description: [''],\n        carModelYear: ['', Validators.required],\n        carBrand: ['', Validators.required],\n        color: [''],\n        capacity: ['', Validators.required],\n        plateNumber: ['', Validators.required],\n        rate: ['', Validators.required],\n        carStatus: ['', Validators.required],\n        createdDate: [{\n          value: '',\n          disabled: true\n        }],\n        lastModified: [{\n          value: '',\n          disabled: true\n        }],\n        createdBy: [{\n          value: '',\n          disabled: true\n        }],\n        lastModifiedBy: [{\n          value: '',\n          disabled: true\n        }]\n      });\n    }\n    ngOnInit() {\n      console.log('Login successful, navigating to car-list');\n      this.getCars();\n    }\n    handleSearch(searchTerm) {\n      // Logic to filter your cars list based on the search term\n      // For example, you might call a service method to fetch filtered results\n    }\n    openAddCarForm() {\n      this.isEditMode = false;\n      this.showCarForm = true;\n    }\n    getCars() {\n      this.carService.getAllCars().subscribe(cars => this.cars = cars);\n    }\n    openEditCarForm(car) {\n      this.isEditMode = true;\n      this.showCarForm = true;\n      this.carForm.patchValue(car);\n    }\n    deleteCar(carId) {\n      // Delete car logic...\n    }\n    handleFormSubmit(formValue) {\n      console.log(formValue);\n      if (formValue.carId) {\n        // If formValue has an ID, it's an update\n        this.updateCar(formValue);\n      } else {\n        // If there's no ID, it's a new car\n        this.addCar(formValue);\n      }\n    }\n    addCar(carData) {\n      // Logic to add a new car\n      // Typically involves calling a service to send the data to your backend\n    }\n    updateCar(carData) {\n      // Logic to update an existing car\n      // Similar to addCar, but with an update method on your service\n    }\n    closeCarForm() {\n      this.showCarForm = false;\n    }\n    static #_ = this.ɵfac = function CarListComponent_Factory(t) {\n      return new (t || CarListComponent)(i0.ɵɵdirectiveInject(i1.CarService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CarListComponent,\n      selectors: [[\"app-car-list\"]],\n      decls: 36,\n      vars: 2,\n      consts: [[1, \"car-list-container\"], [3, \"searchEvent\", \"createNewCarEvent\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"modal\", 4, \"ngIf\"], [1, \"dropdown\"], [1, \"dropbtn\"], [1, \"dropdown-content\"], [3, \"click\"], [1, \"modal\"], [3, \"carForm\", \"formSubmit\", \"close\"]],\n      template: function CarListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Car List\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"app-search\", 1);\n          i0.ɵɵlistener(\"searchEvent\", function CarListComponent_Template_app_search_searchEvent_3_listener($event) {\n            return ctx.handleSearch($event);\n          })(\"createNewCarEvent\", function CarListComponent_Template_app_search_createNewCarEvent_3_listener() {\n            return ctx.openAddCarForm();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"table\")(5, \"thead\")(6, \"tr\")(7, \"th\");\n          i0.ɵɵtext(8, \"ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"th\");\n          i0.ɵɵtext(10, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"th\");\n          i0.ɵɵtext(12, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"th\");\n          i0.ɵɵtext(14, \"Model Year\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"th\");\n          i0.ɵɵtext(16, \"Brand\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"th\");\n          i0.ɵɵtext(18, \"Color\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"th\");\n          i0.ɵɵtext(20, \"Capacity\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"th\");\n          i0.ɵɵtext(22, \"Plate Number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"th\");\n          i0.ɵɵtext(24, \"Rate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"th\");\n          i0.ɵɵtext(26, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"th\");\n          i0.ɵɵtext(28, \"Created\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"th\");\n          i0.ɵɵtext(30, \"Last Modified\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"th\");\n          i0.ɵɵtext(32, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(33, \"tbody\");\n          i0.ɵɵtemplate(34, CarListComponent_tr_34_Template, 34, 12, \"tr\", 2);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(35, CarListComponent_div_35_Template, 2, 1, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(34);\n          i0.ɵɵproperty(\"ngForOf\", ctx.cars);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showCarForm);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.SearchComponent, i5.CarDialogComponent],\n      styles: [\".car-list-container[_ngcontent-%COMP%]{max-width:90%;margin:auto;padding:20px}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.dropbtn[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer;font-size:20px}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f9f9f9;min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}form[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto;padding:20px;border:1px solid #ddd;border-radius:4px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{padding:10px 15px;margin-right:10px;border:none;border-radius:4px;cursor:pointer}button[type=submit][_ngcontent-%COMP%]{background-color:#28a745;color:#fff}button[type=button][_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}button[_ngcontent-%COMP%]:hover{opacity:.9}.alert-danger[_ngcontent-%COMP%]{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb;padding:10px;border-radius:4px;margin-top:15px}.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#0006}\"]\n    });\n  }\n  return CarListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}